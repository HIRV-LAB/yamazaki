# yamazaki

# 現状

## 対応している構文
- 2次元、3次元配列
- for(i=0; i<400; i++)の基本的な構文(400の値も自動で読み込む)
- for文のネスト
- switch文による条件分岐
- for文の始まりの"{"の場所がどこでも(for文の最後、次の行でも)認識
- ループ展開対象外のfor文を弾く
- for(;i < 5;i++)などのときに初期条件を自由に設定できるように
- 否定演算子を含むfor(; j==i!;)もの
- CREST変数宣言用に外部ファイルへのループ展開変数の出力(e.g. i[1],i[2])

## 対応したい構文
- [i-1],[i+1]程度の簡単な四則演算(配列の要素に算術演算子の有無を確認し、演算子を元にswitch文で分岐させて、計算する)
- for(;;i++)だけでなく(i--)のデクリメントもできるように
- for(i=5, j=2;;)などの2つの初期条件があるもの //同時に変更するなら、一つの変数でも動作させることができるため、めったに使われない。やる意味があるか要検討。
- 論理積、論理和を含むもの(for文の中やif文に||や&&があっても分割やスキップなどの動作をしないように変更する)


## 対応しない構文

- ビット演算がif文の条件として入っているもの(ツールが対応していない)
- for(;;i = i/d )などのインクリメント、デクリメント、でない算術式(宇宙機では定数ループを回すものが多いため)
- for(;;)の中にポインタ変数が入るもの(for(;;)の中にポインタ変数がでるものについては、宇宙機ソフトウェアではポインタが出ないため、対応する必要がない)
- ? :  条件演算子  a ? b : cなどのifでも書き直せるもの(同上。あったとしてもif文に書き換えることで対応可能なため)
- 代入演算子(使われてるのかわからない)
- ビット演算子を含むもの(CRESTの対象外のため)
- Defineの定数を読み込む処理(コードを最初をみればわかるため)
